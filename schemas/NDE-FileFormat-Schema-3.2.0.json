{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "experimental": {
    "description": "Experimental objects are for development purposes, may undergo adjustments based on user feedback and do not receive official compatibility support",
    "utMatrixCaptureConfig": {
      "description": "<!-- _Matrix Capture UT_ --><h3 style=\"color:Red;\">This object is part of the experimental section.</h3>Experimental objects are for development purposes, may undergo adjustments based on user feedback and do not receive official compatibility support",
      "properties": {
        "id": { "$ref": "#/definitions/id" },
        "name": { "$ref": "#/definitions/nonNullString" },
        "usage": {
          "$ref": "#/definitions/nonNullString",
          "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
        },
        "dataset": {
          "$ref": "#/experimental/elementaryAscanDataset"
        },
        "utMatrixCapture": {
          "oneOf": [
            {
              "type": "object",
              "properties": {
                "dataEncodingId": {
                  "description": "Related data encoding id [dataEncodings/items/properties/id]",
                  "$ref": "#/properties/dataEncodings/items/properties/id"
                },
                "fullMatrixCapture": {
                  "type": "object",
                  "description": "Simple definition of full matrix capture",
                  "properties": {
                    "probeId": {
                      "description": "Related probe id [probes/items/properties/id]",
                      "$ref": "#/properties/probes/items/properties/id"
                    },
                    "receiverProbeId": {
                      "description": "Related receiver probe if different of pulser probe [probes/items/properties/id]",
                      "$ref": "#/properties/probes/items/properties/id"
                    },
                    "pulse": { "$ref": "#/definitions/pulse" },
                    "digitizingFrequency": {
                      "description": "Effective sampling frequency in dataset (hertz)",
                      "$ref": "#/definitions/frequency"
                    },
                    "ascanLength": {
                      "description": "Ascan length (second). Unique",
                      "type": "number",
                      "minimum": 0,
                      "exclusiveMinimum": true
                    },
                    "ascanStart": {
                      "description": "Delay time (second). Unique.",
                      "type": "number"
                    },
                    "pulsers": { "$ref": "#/definitions/elements" },
                    "receivers": { "$ref": "#/definitions/elements" },
                    "digitalBandPassFilter": {
                      "$ref": "#/definitions/digitalBandPassFilter"
                    }
                  },
                  "additionalProperties": false,
                  "required": [
                    "probeId",
                    "ascanLength",
                    "pulsers",
                    "receivers"
                  ]
                }
              },
              "additionalProperties": false,
              "required": [ "dataEncodingId", "fullMatrixCapture" ]
            }
          ]
        }
      },
      "required": [ "id", "dataset", "utMatrixCapture" ]
    },
    "elementaryAscanDataset": {
      "description": "",
      "properties": {
        "storageMode": { "$ref": "#/definitions/storageMode" },
        "overwriteCriteria": {
          "$ref": "#/definitions/overwriteCriteria"
        },
        "elementaryAscan": {
          "description": "Describes Elementary AScan acquisition<br><br><h3 style=\"color:Red;\">This object is part of the experimental section.</h3>Experimental objects are for development purposes, may undergo adjustments based on user feedback and do not receive official compatibility support",
          "properties": {
            "ascanPointQuantity": {
              "description": "Ascan point quantity for each Ascan when it constant",
              "type": "integer",
              "minimum": 0,
              "exclusiveMinimum": true
            },
            "ascanQuantity": {
              "description": "Ascan quantity in stackedAscan",
              "type": "integer",
              "minimum": 0,
              "exclusiveMinimum": true
            },
            "dimensions": {
              "oneOf": [
                {
                  "description": "<!-- _One line scan_ -->",
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "uniqueItems": true,
                  "items": [
                    { "$ref": "#/definitions/axis/uCoordinate" },
                    { "$ref": "#/experimental/stackedAscanAxis" }
                  ]
                },
                {
                  "description": "<!-- _Raster scan_ -->",
                  "type": "array",
                  "minItems": 3,
                  "maxItems": 3,
                  "uniqueItems": true,
                  "items": [
                    { "$ref": "#/definitions/axis/vCoordinate" },
                    { "$ref": "#/definitions/axis/uCoordinate" },
                    { "$ref": "#/experimental/stackedAscanAxis" }
                  ]
                }
              ]
            },
            "path": { "$ref": "#/definitions/nonNullString" },
            "dataSampling": {
              "type": "object",
              "properties": {
                "min": { "type": "integer" },
                "max": { "type": "integer" }
              },
              "additionalProperties": false,
              "required": [ "min", "max" ]
            }
          },
          "additionalProperties": false,
          "required": [ "ascanQuantity", "dimensions", "path", "dataSampling" ]
        }
      },
      "additionalProperties": false,
      "required": [ "storageMode", "elementaryAscan" ]
    },
    "stackedAscanAxis": {
      "type": "object",
      "description": "<h3 style=\"color:Red;\">This object is part of the experimental section.</h3>Experimental objects are for development purposes, may undergo adjustments based on user feedback and do not receive official compatibility support",
      "properties": {
        "id": { "$ref": "#/definitions/id" },
        "axis": { "enum": [ "StackedAScan" ] },
        "quantity": { "$ref": "#/definitions/quantity" },
        "resolution": { "$ref": "#/definitions/resolution" }
      },
      "additionalProperties": false,
      "required": [ "axis", "quantity", "resolution" ]
    }
  },
  "definitions": {
    "id": {
      "type": "integer",
      "description": "Generic identifier.",
      "minimum": 0
    },
    "ids": {
      "type": "array",
      "description": "Array of generic identifier.",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "integer",
        "minimum": 0
      }
    },
    "nonNullString": {
      "type": "string",
      "description": "String that should not be null.",
      "minLength": 1
    },
    "frequency": {
      "type": "number",
      "description": "Frequency(Hz).",
      "minimum": 0
    },
    "velocity": {
      "type": "number",
      "minimum": 0,
      "description": "The velocity of ultrasound waves depends on the medium through which they propagate.(m/s)"
    },
    "angle": {
      "type": "number",
      "description": "Angle (degree)"
    },
    "positiveAngle": {
      "type": "number",
      "description": "Angle greater than zero. (degree)",
      "minimum": 0
    },
    "quantity": {
      "type": "integer",
      "description": "Quantity",
      "minimum": 1
    },
    "resolution": {
      "type": "number",
      "description": "Resolution",
      "minimum": 0,
      "exclusiveMinimum": true
    },
    "offset": {
      "type": "number",
      "description": "offset"
    },
    "storageMode": {
      "type": "string",
      "description": "<a href=\"./conventions/conventions.html#storagemode\">Storage Mode</a>",
      "enum": [ "Independent", "Paintbrush" ]
    },
    "overwriteCriteria": {
      "type": "string",
      "description": "The criteria used during aquisition to know which rule is used to overwrite a data point.",
      "enum": [ "Last", "Min", "Max" ]
    },
    "rectification": {
      "type": "string",
      "description": "RF A-Scan signal rectification.",
      "enum": [ "None", "Positive", "Negative", "Full" ]
    },
    "waveMode": { "enum": [ "Longitudinal", "TransversalVertical" ] },
    "gain": { "type": "number" },
    "ascanSynchroMode": {
      "type": "string",
      "enum": [ "Pulse", "SynchroGateRelative" ]
    },
    "ascanCompressionFactor": {
      "type": "integer",
      "minimum": 1
    },
    "averagingFactor": {
      "type": "integer",
      "minimum": 1
    },
    "ultrasoundMode": {
      "type": "string",
      "enum": [ "TrueDepth", "SoundPath", "Time" ]
    },
    "timeSelection": {
      "type": "string",
      "enum": [ "Peak", "Crossing", "Unselected" ]
    },
    "highAmplitude": {
      "type": "number",
      "minimum": 0
    },
    "referenceAmplitude": { "type": "number" },
    "recurrence": {
      "type": "number",
      "minimum": 0
    },
    "range": {
      "type": "object",
      "properties": {
        "min": { "type": "number" },
        "max": { "type": "number" },
        "resolution": { "$ref": "#/definitions/resolution" }
      },
      "additionalProperties": false,
      "required": [ "min", "max", "resolution" ]
    },
    "singlePostitionGates": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "minimum": 0
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "geometry": {
            "type": "string",
            "enum": [ "SoundPath", "TrueDepth" ]
          },
          "produceCscanData": { "type": "boolean" },
          "start": { "type": "number" },
          "length": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "threshold": { "type": "number" },
          "peakDetection": {
            "type": "string",
            "enum": [ "First", "Last", "Maximum" ]
          },
          "timeSelection": {
            "type": "string",
            "enum": [ "Peak", "Crossing", "Unselected" ]
          },
          "thresholdPolarity": {
            "type": "string",
            "enum": [ "Absolute", "Positive", "Negative" ]
          },
          "synchronization": {
            "properties": {
              "mode": {
                "type": "string",
                "enum": [ "Pulse", "GateRelative" ]
              },
              "triggeringEvent": {
                "type": "string",
                "enum": [ "Peak", "Crossing" ]
              },
              "gateId": { "$ref": "#/definitions/singlePostitionGates/items/properties/id" }
            },
            "required": [ "mode" ],
            "additionalProperties": false
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "start",
          "length",
          "threshold",
          "peakDetection",
          "timeSelection",
          "thresholdPolarity",
          "synchronization"
        ]
      }
    },
    "multiPostitionGates": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "minimum": 0
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "geometry": {
            "type": "string",
            "enum": [ "SoundPath", "TrueDepth" ]
          },
          "produceCscanData": { "type": "boolean" },
          "starts": {
            "type": "array",
            "minItems": 1,
            "items": { "type": "number" }
          },
          "lengths": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "number",
              "minimum": 0,
              "exclusiveMinimum": true
            }
          },
          "threshold": { "type": "number" },
          "peakDetection": {
            "type": "string",
            "enum": [ "First", "Last", "Maximum" ]
          },
          "timeSelection": {
            "type": "string",
            "enum": [ "Peak", "Crossing", "Unselected" ]
          },
          "thresholdPolarity": {
            "type": "string",
            "enum": [ "Absolute", "Positive", "Negative" ]
          },
          "synchronization": {
            "properties": {
              "mode": {
                "type": "string",
                "enum": [ "Pulse", "GateRelative" ]
              },
              "triggeringEvent": {
                "type": "string",
                "enum": [ "Peak", "Crossing" ]
              },
              "gateId": { "$ref": "#/definitions/multiPostitionGates/items/properties/id" }
            },
            "required": [ "mode" ],
            "additionalProperties": false
          }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "starts",
          "lengths",
          "threshold",
          "peakDetection",
          "timeSelection",
          "thresholdPolarity",
          "synchronization"
        ]
      }
    },
    "tcg": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "synchroMode": { "enum": [ "Pulse", "AscanSynchroRelative" ] },
        "points": {
          "type": "array",
          "uniqueItems": true,
          "items": {
            "type": "object",
            "properties": {
              "time": { "type": "number" },
              "gain": { "$ref": "#/definitions/gain" }
            },
            "additionalProperties": false,
            "required": [ "time", "gain" ]
          }
        }
      },
      "additionalProperties": false,
      "required": [ "enabled", "points" ]
    },
    "pulse": {
      "properties": {
        "width": {
          "type": "number",
          "description": "(seconds)",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "voltage": {
          "type": "number",
          "description": "(volts)",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "polarity": {
          "type": "string",
          "enum": [ "Bipolar", "UnipolarPositive", "UnipolarNegative" ]
        }
      },
      "additionalProperties": true,
      "required": [ "width", "voltage" ]
    },
    "focusing": {
      "type": "object",
      "properties": {
        "mode": {
          "type": "string",
          "enum": [
            "TrueDepth",
            "HalfPath",
            "Unfocused",
            "Projection"
          ]
        },
        "distance": {
          "type": "number",
          "minimum": 0
        },
        "angle": { "$ref": "#/definitions/angle" }
      },
      "additionalProperties": false,
      "required": [ "mode" ]
    },
    "paBeams": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "skewAngle": { "$ref": "#/definitions/positiveAngle" },
          "refractedAngle": { "$ref": "#/definitions/angle" },
          "beamDelay": {
            "type": "number",
            "minimum": 0
          },
          "ascanStart": { "type": "number" },
          "ascanLength": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "gainOffset": { "$ref": "#/definitions/gain" },
          "recurrence": { "$ref": "#/definitions/recurrence" },
          "sumGain": { "$ref": "#/definitions/gain" },
          "sumGainMode": {
            "type": "string",
            "enum": [ "Manual", "Automatic" ]
          },
          "tcg": { "$ref": "#/definitions/tcg" },
          "pulsers": { "$ref": "#/definitions/elementDelays" },
          "receivers": { "$ref": "#/definitions/elementDelays" }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "skewAngle",
          "refractedAngle",
          "beamDelay",
          "ascanStart",
          "ascanLength"
        ]
      }
    },
    "lawFile": {
      "properties": {
        "filename": { "$ref": "#/definitions/nonNullString" },
        "path": { "$ref": "#/definitions/nonNullString" }
      },
      "additionalProperties": false,
      "required": [ "filename", "path" ]
    },
    "utSoftwareProcess": {
      "type": "object",
      "properties": {
        "gain": { "$ref": "#/definitions/gain" },
        "gates": { "$ref": "#/definitions/singlePostitionGates" },
        "tcg": { "$ref": "#/definitions/tcg" },
        "thickness": { "$ref": "#/definitions/thickness" }
      },
      "additionalProperties": false
    },
    "paSoftwareProcess": {
      "type": "object",
      "properties": {
        "gain": { "$ref": "#/definitions/gain" },
        "gates": {
          "oneOf": [
            { "$ref": "#/definitions/singlePostitionGates" },
            { "$ref": "#/definitions/multiPostitionGates" }
          ]
        },
        "tcg": { "$ref": "#/definitions/tcg" },
        "thickness": { "$ref": "#/definitions/thickness" }
      },
      "additionalProperties": false
    },
    "tfmSoftwareProcess": {
      "properties": {
        "gain": { "$ref": "#/definitions/gain" },
        "boxGates": { "$ref": "#/definitions/boxGates" }
      },
      "additionalProperties": false
    },
    "digitalBandPassFilter": {
      "type": "object",
      "properties": {
        "filterType": {
          "type": "string",
          "enum": [ "None", "LowPass", "HighPass", "BandPass" ]
        },
        "highCutOffFrequency": { "$ref": "#/definitions/frequency" },
        "lowCutOffFrequency": { "$ref": "#/definitions/frequency" },
        "characteristic": {
          "type": "string",
          "enum": [ "None", "TOFD" ]
        }
      },
      "additionalProperties": false,
      "required": [
        "filterType",
        "highCutOffFrequency",
        "lowCutOffFrequency",
        "characteristic"
      ]
    },
    "elements": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "elementId": {
            "anyOf": [
              {
                "$ref": "#/properties/probes/items/properties/conventionalRound/properties/elements/items/properties/id",
                "description": "Conventional Round"
              },
              {
                "$ref": "#/properties/probes/items/properties/conventionalRectangular/properties/elements/items/properties/id",
                "description": "Conventional Rectangular"
              },
              {
                "$ref": "#/properties/probes/items/properties/phasedArrayLinear/properties/elements/items/properties/id",
                "description": "Phased Array"
              }
            ]
          }
        },
        "additionalProperties": false,
        "required": [ "id", "elementId" ]
      }
    },
    "elementDelays": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "elementId": {
            "anyOf": [
              {
                "$ref": "#/properties/probes/items/properties/conventionalRound/properties/elements/items/properties/id",
                "description": "Conventional Round"
              },
              {
                "$ref": "#/properties/probes/items/properties/conventionalRectangular/properties/elements/items/properties/id",
                "description": "Conventional Rectangular"
              },
              {
                "$ref": "#/properties/probes/items/properties/phasedArrayLinear/properties/elements/items/properties/id",
                "description": "Phased Array"
              }
            ]
          },
          "delay": {
            "type": "number",
            "description": "(seconds)",
            "minimum": 0
          }
        },
        "additionalProperties": false,
        "required": [ "id", "elementId", "delay" ]
      }
    },
    "probeAxis": {
      "type": "object",
      "properties": {
        "elementGap": {
          "type": "number",
          "minimum": 0
        },
        "elementQuantity": { "$ref": "#/definitions/quantity" },
        "elementLength": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "referencePoint": { "type": "number" },
        "casingLength": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        }
      },
      "additionalProperties": false,
      "required": [
        "elementGap",
        "elementQuantity",
        "elementLength",
        "referencePoint"
      ]
    },
    "linearFormation": {
      "type": "object",
      "properties": {
        "probeFirstElementId": { "$ref": "#/definitions/id" },
        "probeLastElementId": { "$ref": "#/definitions/id" },
        "elementStep": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "elementAperture": {
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "beamRefractedAngle": { "$ref": "#/definitions/angle" }
      },
      "additionalProperties": false,
      "required": [
        "probeFirstElementId",
        "probeLastElementId",
        "elementStep",
        "elementAperture",
        "beamRefractedAngle"
      ]
    },
    "sectorialFormation": {
      "type": "object",
      "properties": {
        "probeFirstElementId": { "$ref": "#/definitions/id" },
        "elementAperture": {
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "beamRefractedAngles": {
          "type": "object",
          "properties": {
            "start": { "$ref": "#/definitions/angle" },
            "stop": { "$ref": "#/definitions/angle" },
            "step": {
              "type": "number",
              "minimum": 0,
              "exclusiveMinimum": true
            }
          },
          "additionalProperties": false,
          "required": [ "start", "stop", "step" ]
        }
      },
      "additionalProperties": false,
      "required": [
        "probeFirstElementId",
        "elementAperture",
        "beamRefractedAngles"
      ]
    },
    "compoundFormation": {
      "properties": {
        "probeFirstElementId": { "$ref": "#/definitions/id" },
        "probeLastElementId": { "$ref": "#/definitions/id" },
        "elementAperture": {
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "beamRefractedAngles": {
          "type": "object",
          "properties": {
            "start": { "$ref": "#/definitions/angle" },
            "stop": { "$ref": "#/definitions/angle" },
            "step": {
              "type": "number",
              "minimum": 0,
              "exclusiveMinimum": true
            }
          },
          "additionalProperties": false,
          "required": [ "start", "stop", "step" ]
        }
      },
      "additionalProperties": false,
      "required": [
        "probeFirstElementId",
        "probeLastElementId",
        "elementAperture",
        "beamRefractedAngles"
      ]
    },
    "singleFormation": {
      "type": "object",
      "properties": {
        "probeFirstElementId": { "$ref": "#/definitions/id" },
        "elementAperture": {
          "type": "integer",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "beamRefractedAngle": { "$ref": "#/definitions/angle" },
        "velocity": { "$ref": "#/definitions/velocity" },
        "focusingDistance": {
          "type": "number",
          "minimum": 0.0,
          "exclusiveMinimum": true,
          "description": "Focus distance in time unit from the elements surface at the center of the aperture"
        }
      },
      "additionalProperties": false,
      "required": [
        "probeFirstElementId",
        "elementAperture",
        "beamRefractedAngle"
      ]
    },
    "tfmDescriptions": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "name": { "$ref": "#/definitions/nonNullString" },
          "signalSource": {
            "type": "string",
            "enum": [ "Analytic", "Real" ]
          },
          "gain": { "$ref": "#/definitions/gain" },
          "referenceAmplitude": { "type": "number" },
          "referenceGain": { "$ref": "#/definitions/gain" },
          "rectangularGrid": {
            "type": "object",
            "properties": {
              "yImagingLimits": { "$ref": "#/definitions/range" },
              "zImagingLimits": { "$ref": "#/definitions/range" }
            },
            "additionalProperties": false,
            "required": [ "yImagingLimits", "zImagingLimits" ]
          },
          "fmcPulserIds": { "$ref": "#/definitions/ids" },
          "fmcReceiverIds": { "$ref": "#/definitions/ids" },
          "pathName": { "$ref": "#/definitions/nonNullString" },
          "waveSet": {
            "type": "object",
            "properties": {
              "pulsings": { "$ref": "#/definitions/waves" },
              "receivings": { "$ref": "#/definitions/waves" }
            },
            "additionalProperties": false,
            "required": [ "pulsings", "receivings" ]
          },
          "digitalBandPassFilter": {
            "$ref": "#/definitions/digitalBandPassFilter"
          },
          "columns": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "object",
              "properties": {
                "id": { "$ref": "#/definitions/id" },
                "gainMap": {
                  "type": "object",
                  "properties": {
                    "points": {
                      "type": "array",
                      "minItems": 1,
                      "uniqueItems": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "position": { "type": "number" },
                          "gain": { "$ref": "#/definitions/gain" }
                        },
                        "additionalProperties": false,
                        "required": [ "position", "gain" ]
                      }
                    }
                  },
                  "additionalProperties": false,
                  "required": [ "points" ]
                }
              },
              "additionalProperties": false,
              "required": [ "id", "gainMap" ]
            }
          },
          "softwareProcess": { "$ref": "#/definitions/tfmSoftwareProcess" }
        },
        "additionalProperties": false,
        "required": [ "id", "gain", "rectangularGrid", "pathName", "waveSet" ]
      }
    },
    "tfmDescriptionsPWC": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "name": { "$ref": "#/definitions/nonNullString" },
          "signalSource": {
            "type": "string",
            "enum": [ "Analytic", "Real" ]
          },
          "gain": { "$ref": "#/definitions/gain" },
          "referenceAmplitude": { "type": "number" },
          "referenceGain": { "$ref": "#/definitions/gain" },
          "rectangularGrid": {
            "type": "object",
            "properties": {
              "yImagingLimits": { "$ref": "#/definitions/range" },
              "zImagingLimits": { "$ref": "#/definitions/range" }
            },
            "additionalProperties": false,
            "required": [ "yImagingLimits", "zImagingLimits" ]
          },
          "fmcReceiverIds": { "$ref": "#/definitions/ids" },
          "planeWaveCapturePulserBeamIds": {
            "$ref": "#/definitions/ids",
            "description": "Reference to a list of beam identifiers of a plane wave capture formation. Each one is associated to a refracted angle and a list of pulser delays. Path: groups//planeWaveCapture//pulseBeamsFormation//pulseBeams//id"
          },
          "pathName": { "$ref": "#/definitions/nonNullString" },
          "waveSet": {
            "type": "object",
            "properties": {
              "pulsings": { "$ref": "#/definitions/waves" },
              "receivings": { "$ref": "#/definitions/waves" }
            },
            "additionalProperties": false,
            "required": [ "pulsings", "receivings" ]
          },
          "digitalBandPassFilter": {
            "$ref": "#/definitions/digitalBandPassFilter"
          },
          "columns": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "object",
              "properties": {
                "id": { "$ref": "#/definitions/id" },
                "gainMap": {
                  "type": "object",
                  "properties": {
                    "points": {
                      "type": "array",
                      "minItems": 1,
                      "uniqueItems": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "position": { "type": "number" },
                          "gain": { "$ref": "#/definitions/gain" }
                        },
                        "additionalProperties": false,
                        "required": [ "position", "gain" ]
                      }
                    }
                  },
                  "additionalProperties": false,
                  "required": [ "points" ]
                }
              },
              "additionalProperties": false,
              "required": [ "id", "gainMap" ]
            }
          },
          "softwareProcess": { "$ref": "#/definitions/tfmSoftwareProcess" }
        },
        "additionalProperties": false,
        "required": [ "id", "gain", "rectangularGrid", "pathName", "waveSet" ]
      }
    },
    "waves": {
      "type": "array",
      "minItems": 1,
      "items": { "$ref": "#/definitions/waveMode" }
    },
    "wave": {
      "type": "object",
      "properties": {
        "nominalVelocity": { "$ref": "#/definitions/velocity" },
        "attenuationCoefficient": {
          "type": "number",
          "minimum": 0,
          "description": "Attenuation Coefficient of the longitudinal wave"
        }
      },
      "additionalProperties": false,
      "required": [ "nominalVelocity" ]
    },
    "material": {
      "type": "object",
      "properties": {
        "name": {
          "$ref": "#/definitions/nonNullString",
          "description": "Material Name"
        },
        "longitudinalWave": {
          "$ref": "#/definitions/wave",
          "description": "Nominal Velocity of the longitudinal wave"
        },
        "transversalVerticalWave": {
          "$ref": "#/definitions/wave",
          "description": "Nominal Velocity of the Transversal Vertical wave"
        },
        "density": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true,
          "description": "Density of the material"
        }
      },
      "additionalProperties": false,
      "required": [ "name", "longitudinalWave", "transversalVerticalWave" ]
    },
    "weldGeometry": {
      "type": "object",
      "description": "Describes the geometry of the weld",
      "properties": {
        "weldAngle": { "$ref": "#/definitions/angle" },
        "material": { "$ref": "#/definitions/material" },
        "bevelShape": {
          "type": "string",
          "enum": [ "U", "V" ]
        },
        "symmetry": {
          "type": "string",
          "enum": [ "Symmetric", "StraightLeft", "StraightRight" ]
        },
        "heatAffectedZoneWidth": { "type": "number" },
        "offset": { "$ref": "#/definitions/offset" },
        "upperCap": {
          "type": "object",
          "properties": {
            "width": {
              "type": "number",
              "minimum": 0
            },
            "height": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "required": [ "height" ]
        },
        "lowerCap": {
          "type": "object",
          "properties": {
            "width": {
              "type": "number",
              "minimum": 0
            },
            "height": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "required": [ "height" ]
        },
        "fills": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "properties": {
              "angle": { "$ref": "#/definitions/angle" },
              "height": {
                "type": "number",
                "minimum": 0
              }
            },
            "additionalProperties": false,
            "required": [ "angle", "height" ]
          }
        },
        "hotPass": {
          "type": "object",
          "properties": {
            "angle": { "$ref": "#/definitions/angle" },
            "height": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "required": [ "angle", "height" ]
        },
        "land": {
          "type": "object",
          "properties": {
            "height": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "required": [ "height" ]
        },
        "root": {
          "type": "object",
          "properties": {
            "angle": { "$ref": "#/definitions/angle" },
            "height": {
              "type": "number",
              "minimum": 0
            }
          },
          "additionalProperties": false,
          "required": [ "angle", "height" ]
        }
      },
      "additionalProperties": false,
      "required": [ "weldAngle", "material", "bevelShape", "symmetry" ]
    },
    "plateGeometry": {
      "type": "object",
      "description": "Describes the geometry of the plate\n\n  <a href=\"./omniscan-screens/omniscan-screens.html#scan-plan-part\">To OmniScan Screen</a>",
      "properties": {
        "width": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "length": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "thickness": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "material": { "$ref": "#/definitions/material" },
        "surfaces": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "uniqueItems": true,
          "items": {
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": {
                "type": "string",
                "enum": [ "Top", "Bottom" ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "name" ]
          }
        }
      },
      "additionalProperties": false,
      "required": [ "thickness", "material", "surfaces" ]
    },
    "pipeGeometry": {
      "type": "object",
      "properties": {
        "length": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "thickness": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "outerRadius": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "material": { "$ref": "#/definitions/material" },
        "surfaces": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "uniqueItems": true,
          "items": {
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": {
                "type": "string",
                "enum": [ "Inside", "Outside" ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "name" ]
          }
        }
      },
      "additionalProperties": false,
      "required": [ "thickness", "material", "surfaces" ],
      "description": "Describes the geometry of the pipe"
    },
    "barGeometry": {
      "type": "object",
      "properties": {
        "length": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "diameter": {
          "type": "number",
          "minimum": 0,
          "exclusiveMinimum": true
        },
        "material": { "$ref": "#/definitions/material" },
        "surfaces": {
          "type": "array",
          "minItems": 1,
          "maxItems": 1,
          "uniqueItems": true,
          "items": {
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": {
                "type": "string",
                "enum": [ "Outside" ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "name" ]
          }
        }
      },
      "additionalProperties": false,
      "required": [ "length", "diameter", "material", "surfaces" ],
      "description": "Describes the geometry of the bar"
    },
    "coordinate": {
      "type": "object",
      "properties": {
        "x": { "type": "number" },
        "y": { "type": "number" },
        "z": { "type": "number" }
      },
      "additionalProperties": false,
      "required": [ "x", "y", "z" ]
    },
    "customOverlay2D": {
      "type": "object",
      "properties": {
        "filename": { "$ref": "#/definitions/nonNullString" },
        "format": { "$ref": "#/definitions/nonNullString" },
        "extension": { "$ref": "#/definitions/nonNullString" },
        "path": { "$ref": "#/definitions/nonNullString" },
        "localScale": { "$ref": "#/definitions/coordinate" },
        "localTranslation": { "$ref": "#/definitions/coordinate" },
        "translation": { "$ref": "#/definitions/coordinate" },
        "scale": { "type": "number" },
        "rotation": { "type": "number" },
        "width": { "type": "number" },
        "thickness": { "type": "number" }
      },
      "additionalProperties": false,
      "required": [
        "filename",
        "format",
        "extension",
        "path",
        "scale",
        "rotation",
        "width",
        "thickness"
      ],
      "description": "CAD file and overlay position"
    },
    "positioning": {
      "type": "object",
      "properties": {
        "specimenId": {
          "anyOf": [
            {
              "description": "<!-- _Plate id_ -->",
              "$ref": "#/properties/specimens/items/oneOf/0/properties/id"
            },
            {
              "description": "<!-- _Pipe id_ -->",
              "$ref": "#/properties/specimens/items/oneOf/1/properties/id"
            },
            {
              "description": "<!-- _Bar id_ -->",
              "$ref": "#/properties/specimens/items/oneOf/2/properties/id"
            }
          ]
        },
        "surfaceId": {
          "anyOf": [
            {
              "description": "<!-- _Plate Surface id_ -->",
              "$ref": "#/definitions/plateGeometry/properties/surfaces/items/properties/id"
            },
            {
              "description": "<!-- _Pipe Surface id_ -->",
              "$ref": "#/definitions/pipeGeometry/properties/surfaces/items/properties/id"
            },
            {
              "description": "<!-- _Bar Surface id_ -->",
              "$ref": "#/definitions/barGeometry/properties/surfaces/items/properties/id"
            }
          ]
        },
        "uCoordinateOffset": { "$ref": "#/definitions/offset" },
        "vCoordinateOffset": { "$ref": "#/definitions/offset" },
        "skewAngle": { "$ref": "#/definitions/positiveAngle" }
      },
      "additionalProperties": false,
      "required": [
        "specimenId",
        "surfaceId",
        "uCoordinateOffset",
        "vCoordinateOffset",
        "skewAngle"
      ]
    },
    "dataset": {
      "amplitude": {
        "type": "object",
        "properties": {
          "dimensions": {
            "type": "array",
            "minItems": 3,
            "maxItems": 3,
            "uniqueItems": true,
            "items": [
              { "$ref": "#/definitions/axis/uCoordinate" },
              {
                "oneOf": [
                  {
                    "description": "<!-- _In Paintbrush storageMode_ -->",
                    "$ref": "#/definitions/axis/vCoordinate"
                  },
                  {
                    "description": "<!-- _In Independent storageMode_ -->",
                    "$ref": "#/definitions/axis/beam"
                  }
                ]
              },
              {
                "$ref": "#/definitions/axis/ultrasound"
              }
            ]
          },
          "path": { "$ref": "#/definitions/nonNullString" },
          "dataValue": {
            "type": "object",
            "properties": {
              "unit": {
                "type": "string",
                "enum": [ "Percent" ]
              },
              "min": { "type": "number" },
              "max": { "type": "number" }
            },
            "additionalProperties": false,
            "required": [ "unit", "max", "min" ]
          },
          "dataSampling": {
            "type": "object",
            "properties": {
              "min": { "type": "integer" },
              "max": { "type": "integer" }
            },
            "additionalProperties": false,
            "required": [ "min", "max" ]
          }
        },
        "additionalProperties": false,
        "required": [ "dimensions", "path", "dataValue", "dataSampling" ]
      },
      "tfmAmplitude": {
        "type": "object",
        "properties": {
          "dimensions": {
            "type": "array",
            "minItems": 3,
            "maxItems": 3,
            "uniqueItems": true,
            "items": [
              { "$ref": "#/definitions/axis/uCoordinate" },
              {
                "$ref": "#/definitions/axis/vCoordinate"
              },
              {
                "$ref": "#/definitions/axis/wCoordinate"
              }
            ]
          },
          "path": { "$ref": "#/definitions/nonNullString" },
          "dataValue": {
            "type": "object",
            "properties": {
              "unit": {
                "type": "string",
                "enum": [ "Percent", "Coherence" ]
              },
              "min": { "type": "number" },
              "max": { "type": "number" }
            },
            "additionalProperties": false,
            "required": [ "unit", "max", "min" ]
          },
          "dataSampling": {
            "type": "object",
            "properties": {
              "min": { "type": "integer" },
              "max": { "type": "integer" }
            },
            "additionalProperties": false,
            "required": [ "min", "max" ]
          }
        },
        "additionalProperties": false,
        "required": [ "dimensions", "path", "dataValue" ]
      },
      "firingSource": {
        "type": "object",
        "properties": {
          "dimensions": {
            "type": "array",
            "minItems": 2,
            "maxItems": 2,
            "uniqueItems": true,
            "items": [
              { "$ref": "#/definitions/axis/uCoordinate" },
              { "$ref": "#/definitions/axis/vCoordinate" }
            ]
          },
          "path": { "$ref": "#/definitions/nonNullString" },
          "dataValue": {
            "type": "object",
            "properties": {
              "unit": {
                "type": "string",
                "enum": [ "BeamId" ]
              },
              "min": { "type": "number" },
              "max": { "type": "number" }
            },
            "additionalProperties": false,
            "required": [ "unit", "max", "min" ]
          }
        },
        "additionalProperties": false,
        "required": [ "dimensions", "path", "dataValue" ]
      },
      "tfmFiringSource": {
        "type": "object",
        "properties": {
          "dimensions": {
            "type": "array",
            "minItems": 2,
            "maxItems": 2,
            "uniqueItems": true,
            "items": [
              { "$ref": "#/definitions/axis/uCoordinate" },
              { "$ref": "#/definitions/axis/vCoordinate" }
            ]
          },
          "path": { "$ref": "#/definitions/nonNullString" },
          "dataValue": {
            "type": "object",
            "properties": {
              "unit": {
                "type": "string",
                "enum": [ "ColumnId" ]
              },
              "min": { "type": "number" },
              "max": { "type": "number" }
            },
            "additionalProperties": false,
            "required": [ "unit", "max", "min" ]
          }
        },
        "additionalProperties": false,
        "required": [ "dimensions", "path", "dataValue" ]
      },
      "ascan": {
        "properties": {
          "storageMode": { "$ref": "#/definitions/storageMode" },
          "overwriteCriteria": {
            "$ref": "#/definitions/overwriteCriteria"
          },
          "ascan": {
            "type": "object",
            "properties": {
              "velocity": { "$ref": "#/definitions/velocity" },
              "skewAngle": { "$ref": "#/definitions/positiveAngle" },
              "refractedAngle": { "$ref": "#/definitions/angle" },
              "amplitude": { "$ref": "#/definitions/dataset/amplitude" },
              "status": {
                "type": "object",
                "properties": {
                  "dimensions": {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "uniqueItems": true,
                    "items": [
                      { "$ref": "#/definitions/axis/uCoordinate" },
                      {
                        "oneOf": [
                          {
                            "description": "<!-- _In Paintbrush storageMode_ -->",
                            "$ref": "#/definitions/axis/vCoordinate"
                          },
                          {
                            "description": "<!-- _In Independent storageMode_ -->",
                            "$ref": "#/definitions/axis/beam"
                          }
                        ]
                      }
                    ]
                  },
                  "path": { "$ref": "#/definitions/nonNullString" },
                  "dataValue": {
                    "type": "object",
                    "properties": {
                      "unit": {
                        "type": "string",
                        "enum": [ "Bitfield" ]
                      },
                      "hasData": {
                        "type": "integer",
                        "minimum": 1
                      },
                      "noSynchro": {
                        "type": "integer",
                        "minimum": 1
                      },
                      "saturated": {
                        "type": "integer",
                        "minimum": 1
                      }
                    },
                    "additionalProperties": false,
                    "required": [ "unit", "hasData" ]
                  }
                },
                "additionalProperties": false,
                "required": [ "dimensions", "path", "dataValue" ]
              }
            },
            "additionalProperties": false,
            "required": [ "amplitude", "status" ]
          },
          "firingSource": { "$ref": "#/definitions/dataset/firingSource" }
        },
        "additionalProperties": false,
        "required": [ "storageMode", "ascan" ]
      },
      "tfms": {
        "properties": {
          "storageMode": {
            "$ref": "#/definitions/storageMode",
            "description": "The general <a href=\"./conventions/conventions.html#storagemode\">Storage Mode</a> for ths dataSet"
          },
          "overwriteCriteria": {
            "$ref": "#/definitions/overwriteCriteria",
            "description": "Which value to keep when the same point is acquired more than once."
          },
          "tfms": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "object",
              "properties": {
                "tfmDescriptionId": {
                  "$ref": "#/definitions/id"
                },
                "amplitude": { "$ref": "#/definitions/dataset/tfmAmplitude" },
                "status": {
                  "type": "object",
                  "properties": {
                    "dimensions": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "uniqueItems": true,
                      "items": [
                        { "$ref": "#/definitions/axis/uCoordinate" },
                        {
                          "$ref": "#/definitions/axis/vCoordinate"
                        }
                      ]
                    },
                    "path": { "$ref": "#/definitions/nonNullString" },
                    "dataValue": {
                      "type": "object",
                      "properties": {
                        "unit": {
                          "type": "string",
                          "enum": [ "Bitfield" ]
                        },
                        "hasData": {
                          "type": "integer",
                          "minimum": 1
                        },
                        "saturated": {
                          "type": "integer",
                          "minimum": 1
                        }
                      },
                      "additionalProperties": false,
                      "required": [ "unit", "hasData" ]
                    }
                  },
                  "additionalProperties": false,
                  "required": [ "dimensions", "path", "dataValue" ]
                },
                "firingSource": { "$ref": "#/definitions/dataset/tfmFiringSource" }
              },
              "additionalProperties": false,
              "required": [ "tfmDescriptionId", "amplitude", "status" ]
            }
          }
        },
        "additionalProperties": false,
        "required": [ "storageMode", "tfms" ]
      }
    },
    "axis": {
      "uCoordinate": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "axis": { "enum": [ "UCoordinate" ] },
          "quantity": { "$ref": "#/definitions/quantity" },
          "resolution": { "$ref": "#/definitions/resolution" },
          "offset": { "$ref": "#/definitions/offset" },
          "motionDeviceId": {
            "$ref": "#/properties/motionDevices/items/properties/id"
          },
          "name": { "$ref": "#/definitions/nonNullString" },
          "lastCellRewrited": {
            "type": "integer",
            "description": "When the acquisition has been done in Time mode (no encoder) this axis is a circular buffer in which the first position is given in lastCellRewrited",
            "minimum": 0
          }
        },
        "additionalProperties": false,
        "required": [ "axis", "quantity", "resolution" ]
      },
      "vCoordinate": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "axis": { "enum": [ "VCoordinate" ] },
          "quantity": { "$ref": "#/definitions/quantity" },
          "resolution": { "$ref": "#/definitions/resolution" },
          "offset": { "$ref": "#/definitions/offset" },
          "motionDeviceId": {
            "$ref": "#/properties/motionDevices/items/properties/id"
          },
          "name": { "$ref": "#/definitions/nonNullString" }
        },
        "additionalProperties": false,
        "required": [ "axis", "quantity", "resolution" ]
      },
      "wCoordinate": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "axis": { "enum": [ "WCoordinate" ] },
          "quantity": { "$ref": "#/definitions/quantity" },
          "resolution": { "$ref": "#/definitions/resolution" },
          "offset": { "$ref": "#/definitions/offset" }
        },
        "additionalProperties": false,
        "required": [ "axis", "quantity", "resolution" ]
      },
      "ultrasound": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "axis": { "enum": [ "Ultrasound" ] },
          "quantity": { "$ref": "#/definitions/quantity" },
          "resolution": { "$ref": "#/definitions/resolution" },
          "offset": { "$ref": "#/definitions/offset" }
        },
        "additionalProperties": false,
        "required": [ "axis", "quantity", "resolution" ]
      },
      "beam": {
        "type": "object",
        "properties": {
          "axis": { "enum": [ "Beam" ] },
          "beams": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": [
              {
                "type": "object",
                "properties": {
                  "id": { "$ref": "#/definitions/id" },
                  "velocity": { "$ref": "#/definitions/velocity" },
                  "skewAngle": { "$ref": "#/definitions/positiveAngle" },
                  "refractedAngle": { "$ref": "#/definitions/angle" },
                  "uCoordinateOffset": { "$ref": "#/definitions/offset" },
                  "vCoordinateOffset": { "$ref": "#/definitions/offset" },
                  "ultrasoundOffset": { "$ref": "#/definitions/offset" }
                },
                "additionalProperties": false,
                "required": [
                  "velocity",
                  "skewAngle",
                  "refractedAngle",
                  "uCoordinateOffset",
                  "vCoordinateOffset",
                  "ultrasoundOffset"
                ]
              }
            ]
          }
        },
        "additionalProperties": false,
        "required": [ "axis", "beams" ]
      }
    },
    "boxGates": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "enabled": { "type": "boolean" },
          "threshold": { "type": "number" },
          "yImagingMin": { "type": "number" },
          "yImagingMax": { "type": "number" },
          "zImagingMin": {
            "type": "number",
            "minimum": 0
          },
          "zImagingMax": { "type": "number" }
        },
        "additionalProperties": false,
        "required": [
          "id",
          "enabled",
          "threshold",
          "yImagingMin",
          "yImagingMax",
          "zImagingMin",
          "zImagingMax"
        ]
      }
    },
    "thickness": {
      "type": "object",
      "properties": {
        "min": { "type": "number" },
        "max": { "type": "number" },
        "gates": {
          "type": "array",
          "minItems": 1,
          "maxItems": 2,
          "uniqueItems": true,
          "items": {
            "type": "object",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "timeSelection": { "$ref": "#/definitions/timeSelection" }
            },
            "additionalProperties": false,
            "required": [ "id", "timeSelection" ]
          }
        }
      },
      "additionalProperties": false,
      "required": [ "min", "max", "gates" ]
    },
    "calibrationState": {
      "type": "object",
      "properties": { "calibrated": { "type": "boolean" } },
      "additionalProperties": false,
      "required": [ "calibrated" ]
    },
    "calibrationStates": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "sensitivityCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "tcgCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "velocityCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "wedgeDelayCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "dacCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "dgsCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          },
          "tofdWedgeDelayCalibration": {
            "calibrated": { "$ref": "#/definitions/calibrationState" }
          }
        },
        "additionalProperties": false,
        "anyOf": [
          { "required": [ "sensitivityCalibration" ] },
          { "required": [ "tcgCalibration" ] },
          { "required": [ "velocityCalibration" ] },
          { "required": [ "wedgeDelayCalibration" ] },
          { "required": [ "dacCalibration" ] },
          { "required": [ "dgsCalibration" ] },
          { "required": [ "tofdWedgeDelayCalibration" ] }
        ]
      },
      "additionalItems": false
    }
  },
  "properties": {
    "$schema": { "$ref": "#/definitions/nonNullString" },
    "version": {
      "type": "string",
      "enum": [ "3.2.0" ]
    },
    "scenario": {
      "type": "string",
      "enum": [ "General Weld", "General Mapping" ],
      "description": "The general scenario of this data file"
    },
    "groups": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "oneOf": [
          {
            "type": "object",
            "description": "<!-- _Conventional UT_ -->",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": {
                "$ref": "#/definitions/nonNullString",
                "description": "Group Name"
              },
              "usage": {
                "$ref": "#/definitions/nonNullString",
                "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
              },
              "dataset": { "$ref": "#/definitions/dataset/ascan" },
              "ut": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "<!-- _Pulse Echo_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "pulseEcho": {
                        "probeId": {
                          "$ref": "#/properties/probes/items/properties/id"
                        }
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": { "$ref": "#/definitions/velocity" },
                      "refractedAngle": { "$ref": "#/definitions/angle" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ascanStart": { "type": "number" },
                      "ascanLength": {
                        "type": "number",
                        "minimum": 0,
                        "exclusiveMinimum": true
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "ascanSynchroMode": {
                        "$ref": "#/definitions/ascanSynchroMode"
                      },
                      "ascanCompressionFactor": {
                        "$ref": "#/definitions/ascanCompressionFactor"
                      },
                      "gain": { "$ref": "#/definitions/gain" },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": {
                        "$ref": "#/definitions/referenceAmplitude"
                      },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": {
                        "$ref": "#/definitions/digitalBandPassFilter"
                      },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "recurrence": { "$ref": "#/definitions/recurrence" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "tcg": { "$ref": "#/definitions/tcg" },
                      "gates": { "$ref": "#/definitions/singlePostitionGates" },
                      "calibrationStates": {
                        "$ref": "#/definitions/calibrationStates"
                      },
                      "softwareProcess": { "$ref": "#/definitions/utSoftwareProcess" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "pulseEcho",
                      "dataEncodingId",
                      "waveMode",
                      "velocity",
                      "refractedAngle",
                      "wedgeDelay",
                      "ascanStart",
                      "ascanLength",
                      "rectification"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "<!-- _Pitch Catch_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "pitchCatch": {
                        "pulserProbeId": {
                          "$ref": "#/properties/probes/items/properties/id"
                        },
                        "receiverProbeId": {
                          "$ref": "#/properties/probes/items/properties/id"
                        }
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": { "$ref": "#/definitions/velocity" },
                      "refractedAngle": { "$ref": "#/definitions/angle" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ascanStart": { "type": "number" },
                      "ascanLength": {
                        "type": "number",
                        "minimum": 0,
                        "exclusiveMinimum": true
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "ascanSynchroMode": {
                        "$ref": "#/definitions/ascanSynchroMode"
                      },
                      "ascanCompressionFactor": {
                        "$ref": "#/definitions/ascanCompressionFactor"
                      },
                      "gain": { "$ref": "#/definitions/gain" },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": {
                        "$ref": "#/definitions/referenceAmplitude"
                      },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": {
                        "$ref": "#/definitions/digitalBandPassFilter"
                      },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "recurrence": { "$ref": "#/definitions/recurrence" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "tcg": { "$ref": "#/definitions/tcg" },
                      "gates": { "$ref": "#/definitions/singlePostitionGates" },
                      "calibrationStates": {
                        "$ref": "#/definitions/calibrationStates"
                      },
                      "softwareProcess": { "$ref": "#/definitions/utSoftwareProcess" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "pitchCatch",
                      "dataEncodingId",
                      "waveMode",
                      "velocity",
                      "refractedAngle",
                      "wedgeDelay",
                      "ascanStart",
                      "ascanLength",
                      "rectification"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "<!-- _TOFD_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "tofd": {
                        "pulserProbeId": {
                          "$ref": "#/properties/probes/items/properties/id"
                        },
                        "receiverProbeId": {
                          "$ref": "#/properties/probes/items/properties/id"
                        },
                        "pcs": {
                          "type": "number",
                          "minimum": 0
                        }
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": { "$ref": "#/definitions/velocity" },
                      "refractedAngle": { "$ref": "#/definitions/angle" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ascanStart": { "type": "number" },
                      "ascanLength": {
                        "type": "number",
                        "minimum": 0,
                        "exclusiveMinimum": true
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "ascanSynchroMode": {
                        "$ref": "#/definitions/ascanSynchroMode"
                      },
                      "ascanCompressionFactor": {
                        "$ref": "#/definitions/ascanCompressionFactor"
                      },
                      "gain": { "$ref": "#/definitions/gain" },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": {
                        "$ref": "#/definitions/referenceAmplitude"
                      },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": {
                        "$ref": "#/definitions/digitalBandPassFilter"
                      },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "recurrence": { "$ref": "#/definitions/recurrence" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "tcg": { "$ref": "#/definitions/tcg" },
                      "gates": { "$ref": "#/definitions/singlePostitionGates" },
                      "calibrationStates": {
                        "$ref": "#/definitions/calibrationStates"
                      },
                      "softwareProcess": { "$ref": "#/definitions/utSoftwareProcess" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "tofd",
                      "dataEncodingId",
                      "waveMode",
                      "velocity",
                      "refractedAngle",
                      "wedgeDelay",
                      "ascanStart",
                      "ascanLength",
                      "rectification"
                    ]
                  }
                ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "ut", "dataset" ]
          },
          {
            "type": "object",
            "description": "<!-- _Phased Array UT_ -->",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": {
                "$ref": "#/definitions/nonNullString",
                "description": "Group Name"
              },
              "usage": {
                "$ref": "#/definitions/nonNullString",
                "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
              },
              "dataset": { "$ref": "#/definitions/dataset/ascan" },
              "paut": {
                "oneOf": [
                  {
                    "type": "object",
                    "description": "<!-- _Pulse Echo_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "pulseEcho": {
                        "type": "object",
                        "properties": {
                          "probeId": {
                            "$ref": "#/properties/probes/items/properties/id"
                          },
                          "linearFormation": {
                            "$ref": "#/definitions/linearFormation"
                          },
                          "sectorialFormation": {
                            "$ref": "#/definitions/sectorialFormation"
                          },
                          "compoundFormation": {
                            "$ref": "#/definitions/compoundFormation"
                          }
                        },
                        "additionalProperties": false,
                        "oneOf": [
                          { "required": [ "linearFormation" ] },
                          { "required": [ "sectorialFormation" ] },
                          { "required": [ "compoundFormation" ] }
                        ]
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": { "$ref": "#/definitions/velocity" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "focusing": { "$ref": "#/definitions/focusing" },
                      "beams": { "$ref": "#/definitions/paBeams" },
                      "gates": {
                        "oneOf": [
                          { "$ref": "#/definitions/singlePostitionGates" },
                          { "$ref": "#/definitions/multiPostitionGates" }
                        ]
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "ascanSynchroMode": { "$ref": "#/definitions/ascanSynchroMode" },
                      "ascanCompressionFactor": { "$ref": "#/definitions/ascanCompressionFactor" },
                      "gain": { "$ref": "#/definitions/gain" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": { "$ref": "#/definitions/referenceAmplitude" },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": { "$ref": "#/definitions/digitalBandPassFilter" },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "calibrationStates": { "$ref": "#/definitions/calibrationStates" },
                      "softwareProcess": { "$ref": "#/definitions/paSoftwareProcess" },
                      "lawFile": { "$ref": "#/definitions/lawFile" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "pulseEcho",
                      "dataEncodingId",
                      "waveMode",
                      "velocity",
                      "focusing",
                      "beams",
                      "rectification"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "<!-- _Pitch Catch_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "pitchCatch": {
                        "type": "object",
                        "properties": {
                          "pulserProbeId": {
                            "$ref": "#/properties/probes/items/properties/id"
                          },
                          "receiverProbeId": {
                            "$ref": "#/properties/probes/items/properties/id"
                          },
                          "linearFormation": {
                            "$ref": "#/definitions/linearFormation"
                          },
                          "sectorialFormation": {
                            "$ref": "#/definitions/sectorialFormation"
                          },
                          "compoundFormation": {
                            "$ref": "#/definitions/compoundFormation"
                          }
                        },
                        "additionalProperties": false,
                        "oneOf": [
                          { "required": [ "linearFormation" ] },
                          { "required": [ "sectorialFormation" ] },
                          { "required": [ "compoundFormation" ] }
                        ]
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": { "$ref": "#/definitions/velocity" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "focusing": { "$ref": "#/definitions/focusing" },
                      "beams": { "$ref": "#/definitions/paBeams" },
                      "gates": {
                        "oneOf": [
                          { "$ref": "#/definitions/singlePostitionGates" },
                          { "$ref": "#/definitions/multiPostitionGates" }
                        ]
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "ascanSynchroMode": { "$ref": "#/definitions/ascanSynchroMode" },
                      "ascanCompressionFactor": { "$ref": "#/definitions/ascanCompressionFactor" },
                      "gain": { "$ref": "#/definitions/gain" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": { "$ref": "#/definitions/referenceAmplitude" },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": { "$ref": "#/definitions/digitalBandPassFilter" },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "calibrationStates": { "$ref": "#/definitions/calibrationStates" },
                      "softwareProcess": { "$ref": "#/definitions/paSoftwareProcess" },
                      "lawFile": { "$ref": "#/definitions/lawFile" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "pitchCatch",
                      "dataEncodingId",
                      "waveMode",
                      "velocity",
                      "focusing",
                      "beams",
                      "rectification"
                    ]
                  },
                  {
                    "type": "object",
                    "description": "<!-- _Tandem_ -->",
                    "properties": {
                      "dataEncodingId": {
                        "$ref": "#/properties/dataEncodings/items/properties/id"
                      },
                      "tandem": {
                        "type": "object",
                        "properties": {
                          "pulserProbeId": {
                            "$ref": "#/properties/probes/items/properties/id"
                          },
                          "receiverProbeId": {
                            "$ref": "#/properties/probes/items/properties/id"
                          },
                          "pulserFormation": {
                            "$ref": "#/definitions/singleFormation"
                          },
                          "receiverFormation": {
                            "$ref": "#/definitions/singleFormation"
                          }
                        },
                        "additionalProperties": false,
                        "required": [
                          "pulserProbeId",
                          "receiverProbeId",
                          "pulserFormation",
                          "receiverFormation"
                        ]
                      },
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "pulse": { "$ref": "#/definitions/pulse" },
                      "beams": { "$ref": "#/definitions/paBeams" },
                      "gates": {
                        "oneOf": [
                          { "$ref": "#/definitions/singlePostitionGates" },
                          { "$ref": "#/definitions/multiPostitionGates" }
                        ]
                      },
                      "rectification": { "$ref": "#/definitions/rectification" },
                      "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                      "ascanSynchroMode": { "$ref": "#/definitions/ascanSynchroMode" },
                      "ascanCompressionFactor": { "$ref": "#/definitions/ascanCompressionFactor" },
                      "gain": { "$ref": "#/definitions/gain" },
                      "wedgeDelay": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ultrasoundMode": { "$ref": "#/definitions/ultrasoundMode" },
                      "highAmplitude": { "$ref": "#/definitions/highAmplitude" },
                      "referenceAmplitude": { "$ref": "#/definitions/referenceAmplitude" },
                      "referenceGain": { "$ref": "#/definitions/gain" },
                      "digitalBandPassFilter": { "$ref": "#/definitions/digitalBandPassFilter" },
                      "smoothingFilter": { "$ref": "#/definitions/frequency" },
                      "averagingFactor": { "$ref": "#/definitions/averagingFactor" },
                      "calibrationStates": { "$ref": "#/definitions/calibrationStates" },
                      "softwareProcess": { "$ref": "#/definitions/paSoftwareProcess" },
                      "lawFile": { "$ref": "#/definitions/lawFile" }
                    },
                    "additionalProperties": false,
                    "required": [
                      "tandem",
                      "dataEncodingId",
                      "waveMode",
                      "beams",
                      "rectification"
                    ]
                  }
                ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "paut", "dataset" ]
          },
          {
            "type": "object",
            "description": "<!-- _FMC UT_ -->",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": { "$ref": "#/definitions/nonNullString" },
              "usage": {
                "$ref": "#/definitions/nonNullString",
                "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
              },
              "dataset": {
                "$ref": "#/definitions/dataset/tfms"
              },
              "fmc": {
                "type": "object",
                "properties": {
                  "dataEncodingId": {
                    "$ref": "#/properties/dataEncodings/items/properties/id"
                  },
                  "probeId": {
                    "$ref": "#/properties/probes/items/properties/id"
                  },
                  "pulse": { "$ref": "#/definitions/pulse" },
                  "pulserFrequency": { "$ref": "#/definitions/frequency" },
                  "digitizingFrequency": { "$ref": "#/definitions/frequency" },
                  "pulsers": { "$ref": "#/definitions/elements" },
                  "receivers": { "$ref": "#/definitions/elements" },
                  "tfmDescriptions": { "$ref": "#/definitions/tfmDescriptions" }
                },
                "additionalProperties": false,
                "required": [
                  "dataEncodingId",
                  "probeId",
                  "pulsers",
                  "receivers",
                  "tfmDescriptions"
                ]
              }
            },
            "required": [ "id", "fmc", "dataset" ]
          },
          {
            "type": "object",
            "description": "<!-- _Plane Wave Capture UT_ -->Describes a Plane Wave Imaging acquisition",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": { "$ref": "#/definitions/nonNullString" },
              "usage": {
                "$ref": "#/definitions/nonNullString",
                "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
              },
              "dataset": {
                "$ref": "#/definitions/dataset/tfms"
              },
              "planeWaveCapture": {
                "type": "object",
                "description": "",
                "properties": {
                  "dataEncodingId": {
                    "description": "Related data encoding id [dataEncodings/items/properties/id]",
                    "$ref": "#/properties/dataEncodings/items/properties/id"
                  },
                  "probeId": {
                    "description": "Related probe id [probes/items/properties/id]",
                    "$ref": "#/properties/probes/items/properties/id"
                  },
                  "pulse": { "$ref": "#/definitions/pulse" },
                  "pulserFrequency": {
                    "description": "(hertz)",
                    "$ref": "#/definitions/frequency"
                  },
                  "digitizingFrequency": {
                    "description": "(hertz)",
                    "$ref": "#/definitions/frequency"
                  },
                  "pulseBeamsFormation": {
                    "type": "object",
                    "properties": {
                      "waveMode": { "$ref": "#/definitions/waveMode" },
                      "velocity": {
                        "description": "(m/s)",
                        "$ref": "#/definitions/velocity"
                      },
                      "waveLocation": {
                        "type": "string",
                        "description": "In which leg the plane wave must be formed",
                        "enum": [ "Wedge", "FirstLeg", "SecondLeg" ]
                      },
                      "startAngle": {
                        "description": "(degrees)",
                        "$ref": "#/definitions/angle"
                      },
                      "stopAngle": {
                        "description": "(degrees)",
                        "$ref": "#/definitions/angle"
                      },
                      "quantityAngle": {
                        "description": "Quantity of beams to be formed",
                        "$ref": "#/definitions/quantity"
                      },
                      "pulseBeams": {
                        "type": "array",
                        "minItems": 1,
                        "uniqueItems": true,
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": { "$ref": "#/definitions/id" },
                            "refractedAngle": {
                              "description": "(degrees)",
                              "$ref": "#/definitions/angle"
                            },
                            "pulserDelays": {
                              "$ref": "#/definitions/elementDelays"
                            }
                          },
                          "additionalProperties": false,
                          "required": [ "id", "refractedAngle", "pulserDelays" ]
                        }
                      }
                    },
                    "additionalProperties": false,
                    "required": [
                      "waveMode",
                      "waveLocation",
                      "startAngle",
                      "stopAngle",
                      "quantityAngle",
                      "pulseBeams"
                    ]
                  },
                  "receivers": { "$ref": "#/definitions/elements" },
                  "tfmDescriptions": { "$ref": "#/definitions/tfmDescriptionsPWC" }
                },
                "additionalProperties": false,
                "required": [
                  "dataEncodingId",
                  "probeId",
                  "pulseBeamsFormation",
                  "receivers",
                  "tfmDescriptions"
                ]
              }
            },
            "required": [ "id", "planeWaveCapture", "dataset" ]
          },
          {
            "$ref": "#/experimental/utMatrixCaptureConfig"
          },
          {
            "type": "object",
            "description": "<!-- _Dataset Only_ -->",
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "name": { "$ref": "#/definitions/nonNullString" },
              "usage": {
                "$ref": "#/definitions/nonNullString",
                "description": "Additionnal information concerning the use of the group (for example: CouplingCheck)"
              },
              "dataset": {
                "oneOf": [
                  { "$ref": "#/definitions/dataset/tfms" },
                  { "$ref": "#/definitions/dataset/ascan" },
                  { "$ref": "#/experimental/elementaryAscanDataset" }
                ]
              }
            },
            "additionalProperties": false,
            "required": [ "id", "dataset" ]
          }
        ]
      }
    },
    "dataEncodings": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "discreteGrid": {
            "type": "object",
            "properties": {
              "specimenId": {
                "anyOf": [
                  {
                    "description": "<!-- _Plate id_ -->",
                    "$ref": "#/properties/specimens/items/oneOf/0/properties/id"
                  },
                  {
                    "description": "<!-- _Pipe id_ -->",
                    "$ref": "#/properties/specimens/items/oneOf/1/properties/id"
                  },
                  {
                    "description": "<!-- _Bar id_ -->",
                    "$ref": "#/properties/specimens/items/oneOf/2/properties/id"
                  }
                ]
              },
              "surfaceId": {
                "anyOf": [
                  {
                    "description": "<!-- _Plate Surface id_ -->",
                    "$ref": "#/definitions/plateGeometry/properties/surfaces/items/properties/id"
                  },
                  {
                    "description": "<!-- _Pipe Surface id_ -->",
                    "$ref": "#/definitions/pipeGeometry/properties/surfaces/items/properties/id"
                  },
                  {
                    "description": "<!-- _Bar Surface id_ -->",
                    "$ref": "#/definitions/barGeometry/properties/surfaces/items/properties/id"
                  }
                ]
              },
              "scanPattern": {
                "type": "string",
                "enum": [ "OneLineScan", "RasterScan" ]
              },
              "uCoordinateOrientation": {
                "type": "string",
                "enum": [ "ScanAround", "ScanAlong", "ScanWidth", "ScanLength" ]
              },
              "dimensions": {
                "type": "array",
                "minItems": 1,
                "maxItems": 2,
                "uniqueItems": true,
                "items": [
                  { "$ref": "#/definitions/axis/uCoordinate" },
                  { "$ref": "#/definitions/axis/vCoordinate" }
                ],
                "additionalItems": false
              }
            },
            "additionalProperties": false,
            "required": [ "specimenId", "surfaceId", "scanPattern", "dimensions" ]
          }
        },
        "additionalProperties": false,
        "required": [ "id", "discreteGrid" ]
      }
    },
    "probes": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "model": {
            "$ref": "#/definitions/nonNullString",
            "description": "Probe model number"
          },
          "serie": {
            "$ref": "#/definitions/nonNullString",
            "description": "Probe serie"
          },
          "serialNumber": {
            "$ref": "#/definitions/nonNullString",
            "description": "Probe serial number"
          },
          "conventionalRound": {
            "type": "object",
            "properties": {
              "centralFrequency": { "$ref": "#/definitions/frequency" },
              "diameter": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "elements": {
                "type": "array",
                "minItems": 1,
                "uniqueItems": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "$ref": "#/definitions/id" },
                    "pinId": { "$ref": "#/definitions/id" },
                    "acquisitionUnitId": {
                      "$ref": "#/properties/acquisitionUnits/items/properties/id"
                    },
                    "connectorName": { "$ref": "#/definitions/nonNullString" }
                  },
                  "additionalProperties": false,
                  "required": [ "id", "acquisitionUnitId", "connectorName" ]
                }
              }
            },
            "additionalProperties": false,
            "required": [ "centralFrequency", "diameter", "elements" ]
          },
          "conventionalRectangular": {
            "type": "object",
            "properties": {
              "centralFrequency": { "$ref": "#/definitions/frequency" },
              "length": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "width": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "elements": {
                "type": "array",
                "minItems": 1,
                "uniqueItems": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "$ref": "#/definitions/id" },
                    "pinId": { "$ref": "#/definitions/id" },
                    "acquisitionUnitId": {
                      "$ref": "#/properties/acquisitionUnits/items/properties/id"
                    },
                    "connectorName": { "$ref": "#/definitions/nonNullString" }
                  },
                  "additionalProperties": false,
                  "required": [ "id", "acquisitionUnitId", "connectorName" ]
                }
              }
            },
            "additionalProperties": false,
            "required": [ "centralFrequency", "length", "width", "elements" ]
          },
          "phasedArrayLinear": {
            "type": "object",
            "properties": {
              "centralFrequency": { "$ref": "#/definitions/frequency" },
              "elements": {
                "type": "array",
                "minItems": 1,
                "uniqueItems": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "$ref": "#/definitions/id" },
                    "pinId": { "$ref": "#/definitions/id" },
                    "acquisitionUnitId": {
                      "$ref": "#/properties/acquisitionUnits/items/properties/id"
                    },
                    "connectorName": { "$ref": "#/definitions/nonNullString" },
                    "primaryIndex": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "secondaryIndex": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "enabled": { "type": "boolean" }
                  },
                  "additionalProperties": false,
                  "required": [ "id", "pinId", "acquisitionUnitId", "connectorName" ]
                }
              },
              "primaryAxis": { "$ref": "#/definitions/probeAxis" },
              "secondaryAxis": { "$ref": "#/definitions/probeAxis" }
            },
            "additionalProperties": false,
            "required": [
              "centralFrequency",
              "elements",
              "primaryAxis",
              "secondaryAxis"
            ]
          },
          "wedgeAssociation": {
            "type": "object",
            "properties": {
              "wedgeId": {
                "$ref": "#/properties/wedges/items/properties/id",
                "description": "The wedge ID on which the probe is mounted"
              },
              "mountingLocationId": {
                "$ref": "#/properties/wedges/items/properties/angleBeamWedge/properties/mountingLocations/items/properties/id",
                "description": "The mounting location ID on the wedge, on which the probe is mounted"
              },
              "orientation": {
                "type": "string",
                "enum": [ "Normal", "Reverse" ],
                "description": "Probe mounting orientation"
              }
            },
            "additionalProperties": false,
            "required": [ "wedgeId", "mountingLocationId" ]
          },
          "fluidColumn": {
            "type": "object",
            "properties": {
              "name": { "$ref": "#/definitions/nonNullString" },
              "longitudinalVelocity": { "$ref": "#/definitions/velocity" },
              "nominalHeight": {
                "type": "number",
                "minimum": 0
              },
              "wedgeAngle": { "$ref": "#/definitions/angle" },
              "squintAngle": { "$ref": "#/definitions/angle" },
              "roofAngle": { "$ref": "#/definitions/angle" },
              "primaryOffset": { "$ref": "#/definitions/offset" },
              "secondaryOffset": { "$ref": "#/definitions/offset" },
              "tertiaryOffset": { "$ref": "#/definitions/offset" },
              "positioning": { "$ref": "#/definitions/positioning" }
            },
            "additionalProperties": false,
            "required": [
              "name",
              "longitudinalVelocity",
              "wedgeAngle",
              "primaryOffset",
              "secondaryOffset",
              "tertiaryOffset",
              "positioning"
            ]
          }
        },
        "additionalProperties": false,
        "required": [ "id" ],
        "oneOf": [
          { "required": [ "conventionalRound" ] },
          { "required": [ "conventionalRectangular" ] },
          { "required": [ "phasedArrayLinear" ] }
        ],
        "allOf": [
          {
            "anyOf": [
              { "required": [ "wedgeAssociation" ] },
              { "required": [ "fluidColumn" ] }
            ]
          },
          { "not": { "required": [ "wedgeAssociation", "fluidColumn" ] } }
        ]
      }
    },
    "wedges": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "model": {
            "$ref": "#/definitions/nonNullString",
            "description": "Wedge Model Number"
          },
          "serie": {
            "$ref": "#/definitions/nonNullString",
            "description": "Wedge Serie"
          },
          "serialNumber": {
            "$ref": "#/definitions/nonNullString",
            "description": "Wedge Serial Number"
          },
          "angleBeamWedge": {
            "type": "object",
            "properties": {
              "width": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "height": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "length": {
                "type": "number",
                "minimum": 0,
                "exclusiveMinimum": true
              },
              "longitudinalVelocity": { "$ref": "#/definitions/velocity" },
              "mountingLocations": {
                "type": "array",
                "minItems": 1,
                "maxItems": 2,
                "uniqueItems": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "id": { "$ref": "#/definitions/id" },
                    "wedgeAngle": { "$ref": "#/definitions/angle" },
                    "squintAngle": { "$ref": "#/definitions/angle" },
                    "roofAngle": { "$ref": "#/definitions/angle" },
                    "primaryOffset": { "$ref": "#/definitions/offset" },
                    "secondaryOffset": { "$ref": "#/definitions/offset" },
                    "tertiaryOffset": { "$ref": "#/definitions/offset" }
                  },
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "wedgeAngle",
                    "primaryOffset",
                    "secondaryOffset",
                    "tertiaryOffset"
                  ]
                }
              },
              "pocketDepth": { "type": "number" }
            },
            "additionalProperties": false,
            "required": [
              "width",
              "height",
              "length",
              "longitudinalVelocity",
              "mountingLocations"
            ]
          },
          "positioning": { "$ref": "#/definitions/positioning" }
        },
        "additionalProperties": false,
        "required": [ "id", "model", "angleBeamWedge", "positioning" ]
      }
    },
    "specimens": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "oneOf": [
          {
            "type": "object",
            "description": "<!-- _Plate_ -->",
            "required": [ "id", "plateGeometry" ],
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "plateGeometry": { "$ref": "#/definitions/plateGeometry" },
              "weldGeometry": { "$ref": "#/definitions/weldGeometry" },
              "customOverlay2D": { "$ref": "#/definitions/customOverlay2D" }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "description": "<!-- _Pipe_ -->",
            "required": [ "id", "pipeGeometry" ],
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "pipeGeometry": { "$ref": "#/definitions/pipeGeometry" },
              "weldGeometry": { "$ref": "#/definitions/weldGeometry" },
              "customOverlay2D": { "$ref": "#/definitions/customOverlay2D" }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "description": "<!-- _Bar_ -->",
            "required": [ "id", "barGeometry" ],
            "properties": {
              "id": { "$ref": "#/definitions/id" },
              "barGeometry": { "$ref": "#/definitions/barGeometry" }
            },
            "additionalProperties": false
          }
        ]
      },
      "additionalProperties": false
    },
    "acquisitionUnits": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "platform": {
            "$ref": "#/definitions/nonNullString",
            "description": "Platform Name"
          },
          "model": {
            "$ref": "#/definitions/nonNullString",
            "description": "Platform Model"
          },
          "serialNumber": {
            "$ref": "#/definitions/nonNullString",
            "description": "Platform Serial Number"
          },
          "name": {
            "$ref": "#/definitions/nonNullString",
            "description": "Optional Name Attributed to the Unit"
          },
          "acquisitionRate": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true,
            "description": "Acquisition Rate"
          }
        },
        "additionalProperties": false,
        "required": [ "id", "platform", "model", "acquisitionRate" ]
      }
    },
    "motionDevices": {
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "properties": {
          "id": { "$ref": "#/definitions/id" },
          "name": {
            "$ref": "#/definitions/nonNullString",
            "description": "Name of the motion device"
          },
          "encoder": {
            "type": "object",
            "properties": {
              "serialNumber": {
                "$ref": "#/definitions/nonNullString",
                "description": "Motion Device Serial Number"
              },
              "mode": {
                "enum": [ "Quadrature", "ClockDir", "PulseUp", "PulseDown" ],
                "description": "Encoder Pulse Mode"
              },
              "stepResolution": {
                "$ref": "#/definitions/resolution",
                "description": "Encoder Step Resolution (unit)"
              },
              "preset": {
                "type": "number",
                "minimum": 0,
                "description": "Preset value et set on acquistion start"
              },
              "acquisitionDirection": {
                "type": "string",
                "enum": [ "Unidirectional", "Bidirectional" ],
                "description": "Aquire in one direction or both"
              }
            },
            "additionalProperties": false,
            "required": [ "mode", "stepResolution" ]
          }
        },
        "additionalProperties": false,
        "required": [ "id", "encoder" ]
      }
    }
  },
  "additionalProperties": false,
  "required": [ "$schema", "version", "scenario", "groups" ]
}